#include <stdio.h>
#include "stack.h"

int main() {
    Stack_m* ptr = stack_new();
    printf("%d\n", stack_empty(ptr));

    for (int i = 0; i<8;i++){
    int * itr = (int* )malloc(sizeof(int));
    itr = &i;
    stack_push(ptr, itr);
    free(itr);
    }
	for (int i = 0; i < 8; i++){
		int* s = (int*)malloc(sizeof(int));
		s = stack_peek(ptr);
		printf("peep%d\n", *s);
		int* v = (int*)malloc(sizeof(int));
		v = stack_pop(ptr);
		printf("pop%d\n", *v);
		free(v);
		free(s);
	}
	stack_del(ptr);
}
